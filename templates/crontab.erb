# This file is being maintained by Puppet.
# DO NOT EDIT

<% if @crontab_vars == nil  -%>
SHELL=/bin/bash
PATH=/sbin:/bin:/usr/sbin:/usr/bin
MAILTO=root
HOME=/
<% else %>
<% @crontab_vars.sort.each do |key,val| -%>
<%= key %>=<%= val %>
<% end -%>
<% end -%>
# For details see man 4 crontabs

# Example of job definition:
# .---------------- minute (0 - 59)
# |  .------------- hour (0 - 23)
# |  |  .---------- day of month (1 - 31)
# |  |  |  .------- month (1 - 12) OR jan,feb,mar,apr ...
# |  |  |  |  .---- day of week (0 - 6) (Sunday=0 or 7) OR sun,mon,tue,wed,thu,fri,sat
# |  |  |  |  |
# *  *  *  *  * user-name command to be executed

<% if @crontab_tasks != nil  -%>
<% @crontab_tasks.sort.each do |key,val| -%>
# <%= key %>
<% val.each do |crontask_value|  -%>
<%= crontask_value %>
<% end -%>
<% end -%>
<% end -%>
<% if (( @osfamily == 'RedHat' ) and ( @operatingsystemrelease =~ /^5/ )) or (( @osfamily == 'Suse' ) and ( @operatingsystemrelease =~ /^10/ )) -%>
# run-parts
<% if @cron_hourly_path != nil -%>
01 * * * * root run-parts <%= @cron_hourly_path %>
<% end -%>
<% if @cron_daily_path != nil -%>
02 4 * * * root run-parts <%= @cron_daily_path %>
<% end -%>
<% if @cron_weekly_path != nil -%>
22 4 * * 0 root run-parts <%= @cron_weekly_path %>
<% end -%>
<% if @cron_monthly_path != nil -%>
42 4 1 * * root run-parts <%= @cron_monthly_path %>
<% end -%>
<% elsif @osfamily == 'Suse' and (( @operatingsystemrelease =~ /^11/ ) or ( @operatingsystemrelease =~ /^12/ )) -%>
#
# check scripts in cron.hourly, cron.daily, cron.weekly, and cron.monthly
#
-*/15 * * * *   root  test -x /usr/lib/cron/run-crons && /usr/lib/cron/run-crons >/dev/null 2>&1
<% end -%>
